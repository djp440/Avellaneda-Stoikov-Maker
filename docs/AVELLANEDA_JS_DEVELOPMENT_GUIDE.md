# Avellaneda做市策略 JavaScript版本开发指南

## 项目概述

本项目旨在将基于Avellaneda-Stoikov模型的Python做市策略转换为JavaScript版本，使用Node.js + CCXT框架实现。该策略通过动态定价和风险管理在加密货币交易所进行自动化做市交易。

## 技术栈要求

- **运行环境**: Node.js 18+
- **交易框架**: CCXT (支持多交易所统一接口)
- **配置管理**: dotenv (环境变量管理)
- **数据处理**: 原生JavaScript或lodash
- **数学计算**: 原生Math对象或mathjs库
- **日志记录**: winston或console
- **时间处理**: moment.js或dayjs
- **交易所连接**: 使用websocket获取账户信息、订单信息、行情信息，使用restApi进行订单操作

## 核心算法原理

### Avellaneda-Stoikov模型

该策略基于以下核心公式：

1. **最优价差计算**:
   - 最优价差 = γ * σ² * t + (2/γ) * ln(1 + γ/k)
   - 其中γ为风险因子，σ为波动率，t为时间，k为交易强度

2. **最优价格计算**:
   - 最优卖价 = 中间价 + 最优价差/2
   - 最优买价 = 中间价 - 最优价差/2

3. **订单数量计算**:
   - 考虑当前库存数量与目标库存数量的偏差
   - 应用形状因子调整订单大小

### 关键参数

- **风险因子(γ)**: 控制风险偏好，值越大风险越高
- **波动率(σ)**: 基于历史价格变化计算
- **交易强度(k)**: 基于订单簿流动性计算
- **库存目标**: 目标持有的基础资产比例
- **最小价差**: 最小买卖价差限制