# 测试文件索引

## 配置测试
- `test_config_migration.js` - 配置迁移测试，验证env中只保留敏感数据，其他配置从trading.js读取

## 程序稳定性测试
- `test_hang_detection.js` - 程序卡住检测测试，检测可能导致程序卡住且无法退出的问题
- `fix_hang_issues.js` - 程序卡住问题修复，修复可能导致程序卡住的问题

## 余额检查测试
- `test_balance_check.js` - 余额检查功能测试，验证策略在余额不足时能正确阻止订单创建

## 策略停止修复测试
- `test_stop_strategy_fix.js` - 停止策略错误修复测试，验证修复了"this.stopHealthCheck is not a function"错误

## 输出格式优化测试
- `test_output_optimization.js` - 输出格式优化测试，验证程序运行时的输出格式优化效果
  - 启动横幅格式优化（单行显示）
  - 配置摘要信息合并（多项合一）
  - 初始化步骤输出优化（进度显示）
  - 策略状态显示优化（多列布局）
  - 订单更新状态优化（时间信息合并）
  - 订单数量计算输出优化（紧凑格式）
  - 参数计算详情输出优化（多行紧凑格式）
- `demo_compact_mainloop.js` - 主循环紧凑输出演示，展示优化后的主循环输出格式
  - 主循环每次循环为一组，清晰分隔
  - 策略状态信息单行显示
  - 循环计数和时间信息紧凑显示
  - 订单更新状态优化

## 测试说明
- 配置迁移测试验证了将非敏感配置从env文件迁移到config/trading.js的功能
- 确保敏感数据（API密钥等）仍然从环境变量读取
- 验证配置验证器和配置获取方法的正常工作
- 程序卡住检测测试检查主循环、网络连接、交易所API调用等可能导致程序卡住的问题
- 程序卡住问题修复自动应用超时保护、进程退出处理改进等修复措施
- 余额检查测试验证了风险管理器在余额不足时能正确拒绝订单，包括BTC和USDT余额检查
- 策略停止修复测试验证了修复策略类中错误调用stopHealthCheck方法的问题，确保停止策略时不再出现TypeError错误
- 输出格式优化测试验证了程序运行时输出的紧凑化改进，包括启动横幅、配置摘要、初始化步骤、策略状态和订单更新状态的优化，显著减少了终端行数占用并提高了信息密度
